# Phase 15: NTS Backend Proxy - Plan

## Goal
Add NTS stream and API proxying to Express backend.

## Tasks

- [x] Add NTS live stream proxy routes
  - [x] `GET /api/nts/live/:channel` - channels 1 and 2
  - [x] Validate channel parameter (1 or 2 only)

- [x] Add NTS Infinite Mixtape proxy routes
  - [x] `GET /api/nts/mixtape/:mixtapeId`
  - [x] Validate mixtapeId against known set of 16 mixtapes

- [x] Add NTS now-playing API proxy
  - [x] `GET /api/nts/nowplaying` - proxies /api/v2/live

- [x] Test all endpoints
  - [x] Now-playing API returns JSON with channel data
  - [x] Invalid channel returns 400 error
  - [x] Invalid mixtape returns 400 with valid options

## Files Changed

| File | Change |
|------|--------|
| `server/index.js` | Added NTS proxy routes |

## New Endpoints

| Endpoint | Description | Example |
|----------|-------------|---------|
| `GET /api/nts/live/:channel` | NTS live stream | `/api/nts/live/1` |
| `GET /api/nts/mixtape/:mixtapeId` | NTS Infinite Mixtape | `/api/nts/mixtape/mixtape4` |
| `GET /api/nts/nowplaying` | NTS live API | Returns both channels' show info |

## Valid Mixtape IDs

```
mixtape, mixtape2, mixtape3, mixtape4, mixtape5, mixtape6,
mixtape21, mixtape22, mixtape23, mixtape24, mixtape26, mixtape27,
mixtape31, mixtape34, mixtape35, mixtape36
```

## Status

**Complete** - All routes added and tested.

---
*Created: 2026-01-21*
